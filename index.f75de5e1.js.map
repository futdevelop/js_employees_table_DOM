{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst trList = Array.from(document.querySelectorAll('tr th')).slice(0, 5);\nconst tBody = document.querySelector('tbody');\nconst rows = Array.from(tBody.querySelectorAll('tr'));\n\nfunction parseSalary(salaryString) {\n  return Number(salaryString.replace(/[$,]/g, ''));\n}\n\nconst sortState = [];\n\ntrList.forEach((headerTh, columnIndex) => {\n  headerTh.addEventListener('click', () => {\n    const ascSort = sortState[columnIndex];\n\n    sortTable(columnIndex, ascSort);\n\n    sortState.fill(false);\n    sortState[columnIndex] = !ascSort;\n  });\n});\n\nfunction sortTable(columnIndex, ascSort) {\n  const sortedRows = rows.sort((a, b) => {\n    const aText = a.children[columnIndex].textContent.trim();\n    const bText = b.children[columnIndex].textContent.trim();\n\n    const aNum = parseSalary(aText);\n    const bNum = parseSalary(bText);\n\n    if (!isNaN(aNum) && !isNaN(bNum)) {\n      if (ascSort) {\n        return bNum - aNum;\n      }\n\n      return aNum - bNum;\n    } else {\n      if (ascSort) {\n        return bText.localeCompare(aText);\n      }\n\n      return aText.localeCompare(bText);\n    }\n  });\n\n  sortedRows.forEach((row) => tBody.appendChild(row));\n}\n\nrows.forEach((row) => {\n  row.addEventListener('click', () => {\n    if (row.classList.contains('active')) {\n      row.classList.remove('active');\n    } else {\n      rows.forEach((r) => r.classList.remove('active'));\n      row.classList.add('active');\n    }\n  });\n});\n\nconst form = document.createElement('form');\nconst button = document.createElement('button');\n\nconst attributes = ['name', 'position', 'office', 'age', 'salary'];\n\nconst options = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\n\nfor (let i = 0; i <= 4; i++) {\n  const input = document.createElement('input');\n  const label = document.createElement('label');\n  const select = document.createElement('select');\n\n  const attr = attributes[i];\n\n  label.textContent = `${attr.charAt(0).toUpperCase() + attr.slice(1, attr.length)}:`;\n\n  input.setAttribute('data-qa', attr);\n  //   input.setAttribute('required', 'true');\n  input.setAttribute('name', attr);\n  input.setAttribute('type', 'text');\n\n  if (attr === 'age' || attr === 'salary') {\n    input.setAttribute('type', 'number');\n  }\n\n  select.setAttribute('name', 'office');\n  select.setAttribute('data-qa', 'office');\n\n  label.appendChild(input);\n\n  if (attr === 'office') {\n    const labelSelect = document.createElement('label');\n\n    labelSelect.textContent = `${attr.charAt(0).toUpperCase() + attr.slice(1, attr.length)}:`;\n\n    for (let j = 0; j < options.length; j++) {\n      const option = document.createElement('option');\n\n      const optionText = options[j];\n\n      option.value = optionText;\n\n      const text =\n        optionText.charAt(0).toUpperCase() + optionText.slice(1, option.length);\n\n      option.textContent = text;\n\n      select.appendChild(option);\n      labelSelect.appendChild(select);\n    }\n\n    form.appendChild(labelSelect);\n  } else {\n    form.appendChild(label);\n  }\n}\n\nbutton.textContent = 'Save to table';\n\nform.appendChild(button);\n\nform.classList.add('new-employee-form');\ndocument.documentElement.appendChild(form);\n\nfunction formatSalary(salary) {\n  return `$${Number(salary).toLocaleString('en-US')}`;\n}\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const formData = new FormData(form);\n  const data = Object.fromEntries(formData.entries());\n\n  const tr = document.createElement('tr');\n\n  for (const key in data) {\n    const td = document.createElement('td');\n\n    if (+data[key] > 100) {\n      td.textContent = formatSalary(data[key]);\n    } else {\n      td.textContent = data[key];\n    }\n    tr.appendChild(td);\n  }\n\n  let isError = false;\n\n  if (data.name.length < 4) {\n    isError = true;\n  }\n\n  if (+data.age < 18 || +data.age > 90) {\n    isError = true;\n  }\n\n  if (!isError) {\n    tBody.appendChild(tr);\n    pushNotification('Successfully added a new employee', 'success');\n  } else {\n    pushNotification('Unexpected error occured', 'error');\n  }\n\n  isError = false;\n\n  form.reset();\n});\n\nfunction pushNotification(title, type) {\n  const block = document.createElement('div');\n  const h2 = document.createElement('h2');\n\n  block.classList.add('notification');\n  h2.classList.add('title');\n\n  block.setAttribute('data-qa', 'notification');\n\n  h2.textContent = title;\n\n  block.style.top = `10px`;\n  block.style.right = `10px`;\n\n  block.append(h2);\n  document.body.append(block);\n\n  switch (type) {\n    case 'success':\n      block.classList.add('success');\n      break;\n    case 'error':\n      block.classList.add('error');\n      break;\n  }\n}\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}